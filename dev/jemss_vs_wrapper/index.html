<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>JEMSS.jl vs JEMSSWrapper.jl · JEMSSWrapper.jl</title><meta name="title" content="JEMSS.jl vs JEMSSWrapper.jl · JEMSSWrapper.jl"/><meta property="og:title" content="JEMSS.jl vs JEMSSWrapper.jl · JEMSSWrapper.jl"/><meta property="twitter:title" content="JEMSS.jl vs JEMSSWrapper.jl · JEMSSWrapper.jl"/><meta name="description" content="Documentation for JEMSSWrapper.jl."/><meta property="og:description" content="Documentation for JEMSSWrapper.jl."/><meta property="twitter:description" content="Documentation for JEMSSWrapper.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">JEMSSWrapper.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../scenario_configuration/">Scenario Configuration</a></li><li><a class="tocitem" href="../strategies/">Strategy Development Guide</a></li><li><a class="tocitem" href="../simulation_state/">Simulation State</a></li><li><a class="tocitem" href="../neural_strategy/">Neural Network Strategy</a></li></ul></li><li><a class="tocitem" href="../api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>JEMSS.jl vs JEMSSWrapper.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>JEMSS.jl vs JEMSSWrapper.jl</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/2gomez/JEMSSWrapper.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/2gomez/JEMSSWrapper.jl/blob/main/docs/src/jemss_vs_wrapper.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="JEMSS.jl-vs-JEMSSWrapper.jl"><a class="docs-heading-anchor" href="#JEMSS.jl-vs-JEMSSWrapper.jl">JEMSS.jl vs JEMSSWrapper.jl</a><a id="JEMSS.jl-vs-JEMSSWrapper.jl-1"></a><a class="docs-heading-anchor-permalink" href="#JEMSS.jl-vs-JEMSSWrapper.jl" title="Permalink"></a></h1><h2 id="Implementación-de-estrategias-de-relocalización"><a class="docs-heading-anchor" href="#Implementación-de-estrategias-de-relocalización">Implementación de estrategias de relocalización</a><a id="Implementación-de-estrategias-de-relocalización-1"></a><a class="docs-heading-anchor-permalink" href="#Implementación-de-estrategias-de-relocalización" title="Permalink"></a></h2><p>En <strong>JEMSS.jl</strong>, para utilizar una estrategia de relocalización dinámica de ambulancias en una simulación, en el momento de inicializarla se específica la estrategia y se construye un objeto auxiliar <code>moveUpData</code> que define cómo será la política de decisión, a la que se puede denominar <code>MoveUpPolice</code>. Cuando se ejecuta la simulación, internamente se utiliza la función <code>simulateEventConsiderMoveUp!</code> para crear los eventos de decisión de relocalización de ambulancias, y se calculan las relocalizaciones a ejecutar. Además, durante la propia simulación cuando una ambulancias es despachada y vuelve a estar disponible, el simulador crea un nuevo evento para considerar una relocalización sea cual sea la estrategia de relocalización. Esto supone que dentro de propia la lógica de la política de decisión <code>MoveUpPolice</code>, se decide si cuando una ambulancia es despachada o vuelve a estar disponible se debe tomar una decisión de relocalización o no.</p><p>En general, para implementar una nueva estretagía de relocalización en JEMSS, es necesario crear un nuevo módulo <code>MoveUpDataPolice</code> (de la clase <code>MoveUpData</code>) y la función <code>MoveUpPolice</code> que estima la relocalización de las ambulancias cuando se da el evento correspondiente. Después, habría que definir una nueva forma de initicialización (<code>initSimMoveUpPolice</code>) de la simulación para la nueva estrategia. De esta forma, para cada nueva simulación se definirá el objeto <code>moveUpData</code> que determinará el comportamiento de <code>MoveUpPolice</code> de relocalización de ambulancias con el que se estimarán las relocalizaciones durantes la simulación. Finalmente, habría que modificar <code>simulateEventConsiderMoveUp!</code> para que incluya la nueva estretegia de decisión. </p><p>Esto supone que para la implementación de una nueva estrategia MoveUp hay que hacer la siguiente serie de cambios en JEMSS.jl:</p><ul><li>Modificar <code>JEMSS.jl/src/types/types.jl</code>: definir una nueva clase de tipo <code>MoveUpDataType</code> e incluirla en la clase <code>MoveUpData</code>.</li><li>Añadir <code>JEMSS.jl/src/decision/move_up/new_police.jl</code>: un nuevo módulo con las funciones <code>initSimMoveUpPolice</code> y <code>MoveUpPolice</code>.</li><li>Modificar <code>JEMSS.jl/src/simulation.jl</code>: incluir en <code>simulateEventConsiderMoveUp!</code> la nueva política <code>MoveUpPolice</code> y lo mismo con el nuevo tipo de <code>MoveUpDataType</code> en las <code>simulateEventAmbDispached!</code> y <code>simulateEventAmbBecomesFree!</code>.</li></ul><p>En el caso de <strong>JEMSSWrapper.jl</strong> se extiende la lógida del simulador original añadiendo una clase abstracta <code>AbstractMoveUpStrategy</code> con sus métodos propios para simular los eventos de relocalización. De esta forma, para crear una nueva estrategia de relocalización, únicamente es necesario crear una nueva clase de tipo <code>AbstractMoveUpStrategy</code> y sus métodos obligratorios: <code>should_trigger_on_dispatch</code>, <code>should_trigger_on_free</code> y <code>decide_moveup</code>, aunque según la estrategia se podrían crear otros personalizados. Esto evita modificar manualmente otros módulos y da más libertad a la hora de implementar diferentes estrategias. Con esta nueva clase, se desarrolla una nueva función <code>simulate!</code> denominada <code>simulate_custom!</code>.</p><h2 id="Replicación-de-simulaciones"><a class="docs-heading-anchor" href="#Replicación-de-simulaciones">Replicación de simulaciones</a><a id="Replicación-de-simulaciones-1"></a><a class="docs-heading-anchor-permalink" href="#Replicación-de-simulaciones" title="Permalink"></a></h2><p>La algoritmos de neuroevolución requiren de la evaluación de muchos individuos, que corresponden a las políticas de decisión de relocalización. Cada individuo es una red neuronal artificial (ANN) y aunque pueden compartir características, como la topología de la red, cada individuo es diferente (o la inmensa mayoría). Como todos los individuos tienen que ser evaluados en un mismo escenario con las mismas llamadas y ambulancias, se necesita hacer replicación de las simulaciones utilizando una ANN en cada una de ellas.</p><p>El propio <strong>JEMSS.jl</strong> carece de una funcionalidad tan específica y aunque trae otras para crear y ejecutar simulaciones, estas no permiten del todo implementar la lógica requerida para las replicaciones necesaria para neuroevolución. </p><p>Es por eso que <strong>JEMSSWrapper.jl</strong> crea desde cero las herramientas para simular mismos escenarios con diferentes políticas de relocalización pensando en los algoritmos de neuroevolución. Utilizando la función <code>create_simulation_instance</code> es posible crear una nueva instancia de simulación equivalente a una simulación base y utilizar <code>simulate_custom!(sim, strategy)</code>, para ejecutar la simulación con una estrategia determinada (y ANN).</p><h2 id="Carga-de-configuración-e-inicialización-de-simulaciones"><a class="docs-heading-anchor" href="#Carga-de-configuración-e-inicialización-de-simulaciones">Carga de configuración e inicialización de simulaciones</a><a id="Carga-de-configuración-e-inicialización-de-simulaciones-1"></a><a class="docs-heading-anchor-permalink" href="#Carga-de-configuración-e-inicialización-de-simulaciones" title="Permalink"></a></h2><p>La forma en la que <strong>JEMSS.jl</strong> crea una simulación comienza con cargar un archivo de configuración XML. En este se definen todos los datos necesarios: hospitales, estaciones, tiempos de viaje, etc. Se incluyen las llamadas, ambulancias y las estrategias de decisión a utilizar en la simulación. Utilizando este archivo, el simulador inicializa la simulación y después está lista para ejecutarse.</p><p>En cambio, <strong>JEMSSWrapper.jl</strong> sigue la misma idea, pero separa los elementos de la configuración. Utiliza un archivo de configuracion TOML para definir los aspectos básicos inmutables como los hospitalas, la red de carreteras, demanda, etc. Con esto se inicializa una simulación base. Después, se utiliza un archivo con las ambulancias y llamadas para posteriormente inicializarlas. Hasta este punto, se construye una instancia de <code>ScenarioData</code> y la simulación está lista para ejecutarse. La ventaja en este punto está en la creación de replicas con diferentes estrategias de relocalización, ya que  <code>create_simulation_instance</code> está pensada para recibir un objeto <code>ScenarioData</code> con el que crear la nueva instancia de simulación. Además, al separar los elementos inmutables de las ambulancias y llamadas, hay una mayor flexibilidad para probar con diferentes ubicaciones iniciales de ambulancias y conjuntos de llamadas.</p><h2 id="Otras-consideraciones-de-JEMSSWrapper.jl"><a class="docs-heading-anchor" href="#Otras-consideraciones-de-JEMSSWrapper.jl">Otras consideraciones de JEMSSWrapper.jl</a><a id="Otras-consideraciones-de-JEMSSWrapper.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Otras-consideraciones-de-JEMSSWrapper.jl" title="Permalink"></a></h2><p>En general, todo lo que se puede hacer con <strong>JEMSS.jl</strong> se puede hacer de igual forma con <strong>JEMSSWrapper.jl</strong>, ya que todas las funcionalidades del simulador original pueden ser llamadas con el wrapper. Las limitaciones y desventajas están en la lógica específica implementada en el wrapper.</p><p>El simulador JEMSS tiene dos elementos que afectan el comportamiento de una simulación. El primero determina la estrategia a la hora de añadir llamadas a la cola de llamadas, <code>addCallToQueue!</code>, cuya estrategia por defecto es <code>addCallToQueueSortPriorityThenTime!</code>. La segunda define la estrategia de despacho de ambulancias, <code>findAmbToDispatch!</code>, que tiene como valor por defecto la estrategia de <code>findNearestDispatchableAmb!</code>. Estos dos valores por defecto son fijos durante la inicialización de una simulación utilizando JEMSSWrapper, y no hay una utilidad específica para modificarlas. </p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Monday 3 November 2025 14:53">Monday 3 November 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
